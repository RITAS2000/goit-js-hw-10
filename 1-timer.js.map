{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nflatpickr('#datetime-picker', {\n  enableTime: true,\n  time_24hr: true,\n  minuteIncrement: 1,\n  locale: {\n    firstDayOfWeek: 1,\n    weekdays: {\n      shorthand: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n      longhand: [\n        'Sunday',\n        'Monday',\n        'Tuesday',\n        'Wednesday',\n        'Thursday',\n        'Friday',\n        'Saturday',\n      ],\n    },\n  },\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n  },\n  dateFormat: 'Y-m-d H:i',\n  defaultDate: new Date(),\n});\n\nconst input = document.querySelector('#datetime-picker');\nconst button = document.querySelector('button[data-start]');\nconst days = document.querySelector('[data-days]');\nconst hours = document.querySelector('[data-hours]');\nconst minutes = document.querySelector('[data-minutes]');\nconst seconds = document.querySelector('[data-seconds]');\n\nlet selectedDate = null;\n\nconst setTime = date => {\n  const nowTime =\n    date.getFullYear() +\n    '-' +\n    String(date.getMonth() + 1).padStart(2, '0') +\n    '-' +\n    String(date.getDate()).padStart(2, '0') +\n    ' ' +\n    String(date.getHours()).padStart(2, '0') +\n    ':' +\n    String(date.getMinutes()).padStart(2, '0');\n\n  input.value = nowTime;\n};\n\nsetInterval(() => {\n  if (!selectedDate) {\n    const currentTime = new Date();\n    setTime(currentTime);\n  }\n}, 1000);\n\ninput.addEventListener('change', () => {\n  const newSelectedDate = new Date(input.value);\n  if (newSelectedDate < new Date()) {\n    iziToast.show({\n      title: 'Error',\n      message: 'You selected a valid future date.',\n      position: 'topRight',\n      color: '#EF4040',\n      timeout: 3000,\n    });\n  } else {\n    selectedDate = newSelectedDate;\n    setTime(selectedDate);\n  }\n});\n\ninput.addEventListener('change', () => {\n  const currentDate = new Date();\n  const selectedDate = new Date(input.value);\n\n  if (selectedDate > currentDate) {\n    button.style.backgroundColor = '#4E75FF';\n    button.style.color = '#FFFFFF';\n  } else {\n    button.style.backgroundColor = '';\n    button.style.color = '';\n  }\n});\n\nbutton.addEventListener('mouseenter', mouseEnter);\nbutton.addEventListener('mouseleave', mouseLeave);\n\nfunction mouseEnter() {\n  const currentDate = new Date();\n  const selectedDate = new Date(input.value);\n  if (selectedDate > currentDate) {\n    button.style.backgroundColor = '#6C8CFF';\n  }\n}\n\nfunction mouseLeave() {\n  const currentDate = new Date();\n  const selectedDate = new Date(input.value);\n\n  if (selectedDate > currentDate) {\n    button.style.backgroundColor = '#4E75FF';\n  }\n}\n\nbutton.addEventListener('click', () => {\n  const selectedDate = new Date(input.value);\n  startTimer(selectedDate);\n  deactivate();\n});\n\nfunction startTimer(targetDate) {\n  const interval = setInterval(() => {\n    const currentTime = new Date();\n    const timeLeft = targetDate - currentTime;\n\n    if (timeLeft <= 0) {\n      clearInterval(interval);\n      reset();\n    } else {\n      const daysLeft = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\n      const hoursLeft = Math.floor(\n        (timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n      );\n      const minutesLeft = Math.floor(\n        (timeLeft % (1000 * 60 * 60)) / (1000 * 60)\n      );\n      const secondsLeft = Math.floor((timeLeft % (1000 * 60)) / 1000);\n\n      days.textContent = String(daysLeft).padStart(2, '0');\n      hours.textContent = String(hoursLeft).padStart(2, '0');\n      minutes.textContent = String(minutesLeft).padStart(2, '0');\n      seconds.textContent = String(secondsLeft).padStart(2, '0');\n    }\n  }, 1000);\n}\n\nfunction deactivate() {\n  input.disabled = true;\n  button.disabled = true;\n  button.style.backgroundColor = '';\n  button.style.color = '';\n  input.style.borderColor = '#808080';\n  input.style.backgroundColor = '#FAFAFA';\n  input.style.color = '#808080';\n  button.removeEventListener('mouseenter', mouseEnter);\n  button.removeEventListener('mouseleave', mouseLeave);\n}\n\nfunction reset() {\n  input.disabled = false;\n  button.disabled = false;\n  input.style.borderColor = '';\n  input.style.backgroundColor = '';\n  input.style.color = '';\n}\n"],"names":["flatpickr","selectedDates","input","button","days","hours","minutes","seconds","selectedDate","setTime","date","nowTime","newSelectedDate","iziToast","currentDate","mouseEnter","mouseLeave","startTimer","deactivate","targetDate","interval","timeLeft","reset","daysLeft","hoursLeft","minutesLeft","secondsLeft"],"mappings":"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"}